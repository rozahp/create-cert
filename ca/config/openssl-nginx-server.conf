##=======================================
##
## OpenSSL Nginx Cert configuration file.
##
##=======================================

##==================================
## CA
##==================================

[ ca ]
# `man ca`
default_ca = CA_default

[ CA_default ]
# Directory and file locations.
dir               = .
certs             = $dir/certs
crl_dir           = $dir/crl
new_certs_dir     = $dir/newcerts
database          = $dir/index.txt
serial            = $dir/serial
RANDFILE          = $dir/private/.rand

# The root key and root certificate.
private_key       = $dir/private/ca.key.pem
certificate       = $dir/certs/ca.cert.pem

# For certificate revocation lists.
crlnumber         = $dir/crlnumber
crl               = $dir/crl/ca.crl.pem
crl_extensions    = crl_ext
default_crl_days  = 30

# SHA-1 is deprecated, so use SHA-2 instead.
default_md        = sha256

name_opt          = ca_default
cert_opt          = ca_default
default_days      = 365
preserve          = no
policy            = policy_strict

#x509_extensions = usr_cert
#copy_extensions = copy

##==================================
## POLICY
##==================================

[ policy_strict ]
# The root CA should only sign intermediate certificates that match.
# See the POLICY FORMAT section of `man ca`.
countryName             = match
stateOrProvinceName     = match
#localityName           = match
organizationName        = match
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional

[ policy_loose ] # policy_anything
# Allow the intermediate CA to sign a more diverse range of certificates.
# See the POLICY FORMAT section of the `ca` man page.
countryName             = optional
stateOrProvinceName     = optional
localityName            = optional
organizationName        = optional
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional

##==================================
## REQ
##==================================

[ req ]

# Options for the `req` tool (`man req`).
default_bits        = 1024
distinguished_name  = req_distinguished_name
attributes          = req_attributes
#default_keyfile     = privkey.pem

# This sets a mask for permitted string types. There are several options. 
# default: PrintableString, T61String, BMPString.
# pkix   : PrintableString, BMPString.
# utf8only: only UTF8Strings.
# nombstr : PrintableString, T61String (no BMPStrings or UTF8Strings).
# MASK:XXXX a literal mask value.
# WARNING: current versions of Netscape crash on BMPStrings or UTF8Strings
# so use this option with caution!
string_mask         = utf8only

# SHA-1 is deprecated, so use SHA-2 instead.
default_md          = sha256

# Extension to add when the -x509 option is used.
x509_extensions     = v3_ca

# this specifies the configuration file section containing a list of extensions
# to add to the certificate request. It can be overridden by the -reqexts
# command line switch. See the x509v3_config(5) manual page for details of the
# extension section format.
#req_extensions = my_extensions

# if set to the value no this disables prompting of certificate fields and just
# takes values from the config file directly. It also changes the expected
# format of the distinguished_name and attributes sections.
#prompt = no

# if set to the value yes then field values to be interpreted as UTF8 strings,
# by default they are interpreted as ASCII. This means that the field values,
# whether prompted from a terminal or obtained from a configuration file, must
# be valid UTF8 strings.
#utf8 = yes

[ req_distinguished_name ]
# See <https://en.wikipedia.org/wiki/Certificate_signing_request>.
countryName                     = Country Name (2 letter code)
countryName_default             = US
countryName_min                 = 2
countryName_max                 = 2

stateOrProvinceName             = State or Province Name
stateOrProvinceName_default     = California

localityName                    = Locality Name
localityName_default            = San Francisco

0.organizationName              = Organization Name
0.organizationName_default      = Corporation

organizationalUnitName          = Organizational Unit Name
organizationalUnitName_default  = Organization

commonName                      = Common Name
commonName_max                  = 64

emailAddress                    = Email Address
emailAddress_max                = 64
#emailAddress_default            = me@mail.com

[req_attributes]
# left intentionally empty
#challengePassword              = A challenge password
#challengePassword_min          = 4
#challengePassword_max          = 20
#unstructuredName               = An optional company name

##==================================
## V3_CA
##==================================

[ v3_ca ]
# Extensions for a typical CA (`man x509v3_config`).
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[ v3_intermediate_ca ]
# Extensions for a typical intermediate CA (`man x509v3_config`).
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true, pathlen:0
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

##==================================
## USR_CERT
##==================================

[ usr_cert ]
# Extensions for client certificates (`man x509v3_config`).
basicConstraints = CA:false
nsCertType = client, email
nsComment = "OpenSSL Generated Client Certificate"
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
keyUsage = critical, nonRepudiation, digitalSignature, keyEncipherment
extendedKeyUsage = clientAuth, emailProtection

##==================================
## SERVER_CERT
##==================================

[ server_cert ]
# Extensions for server certificates (`man x509v3_config`).
basicConstraints = CA:false
nsCertType = server
nsComment = "OpenSSL Generated Server Certificate"
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer:always
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth
subjectAltName = @alternate_names

##==================================
## ALTERNATE_NAMES
##==================================

[ alternate_names ]
DNS.1     = *.adcolony.com
DNS.2     = *.adjust.com
DNS.3     = *.adobedtm.com
DNS.4     = *.akamaihd.net
DNS.5     = *.amazon-adsystem.com
DNS.6     = *.apple.com
DNS.7     = *.applifier.com
DNS.8     = *.applovin.com
DNS.9     = *.appsflyer.com
DNS.10    = *.scorecardresearch.com
DNS.11    = *.imrworldwide.com
DNS.12    = *.burt.io
DNS.13    = *.bidswitch.net
DNS.14    = *.branch.io
DNS.15    = *.adj.st
DNS.16    = *.casalemedia.com
DNS.17    = *.chartboost.com
DNS.18    = *.criteo.net
DNS.19    = mmetrix.mobi
DNS.20    = *.crashlytics.com
DNS.21    = *.cxense.com
DNS.22    = *.dn.se
DNS.23    = *.doubleclick.net
DNS.24    = *.facebook.com
DNS.25    = *.facebook.net
DNS.26    = *.flashback.org
DNS.27    = *.fls.doubleclick.net
DNS.28    = *.flurry.com
DNS.29    = *.fyber.com
DNS.30    = *.gameanalytics.com
DNS.31    = *.g.doubleclick.net
DNS.32    = *.rubiconproject.com
DNS.33    = *.githubapp.com
DNS.34    = *.googleadservices.com
DNS.35    = *.google-analytics.com
DNS.36    = *.google.com
DNS.37    = *.googlesyndication.com
DNS.38    = *.googletagmanager.com
DNS.39    = *.gravatar.com
DNS.40    = *.codigo.se
DNS.41    = *.kochava.com
DNS.42    = *.linkedin.com
DNS.43    = *.aftonbladet.se
DNS.44    = *.login.schibsted.com
DNS.45    = *.mixpanel.com
DNS.46    = *.mopub.com
DNS.47    = *.newrelic.com
DNS.48    = *.research-int.se
DNS.49    = *.schibsted.com
DNS.50    = *.svd.se
DNS.51    = *.tapjoyads.com
DNS.52    = *.tapjoy.com
DNS.53    = *.chartbeat.com
DNS.54    = *.tiqcdn.com
DNS.55    = *.twitter.com
DNS.56    = *.typekit.net
DNS.57    = *.urbanairship.com
DNS.58    = *.waze.com
DNS.59    = *.youversionapi.com
DNS.60    = *.herokuapp.com
DNS.61    = *.wp.com
DNS.62    = *.hotjar.com
DNS.63    = *.d3.sc.omtrdc.net
DNS.64    = *.firebaseio.com
DNS.65    = *.ingest.crittercism.com
DNS.66    = *.di.se
DNS.67    = *.mozilla.org
DNS.68    = *.localytics.com
DNS.69    = *.rampanel.com
DNS.70    = *.crittercism.com
DNS.71    = *.helpshift.com
DNS.72    = *.demdex.net
DNS.73    = *.adsrvr.org
DNS.74    = *.outbrain.com
DNS.75    = *.adnxs.com
DNS.76    = *.trackjs.com
DNS.77    = *.vungle.com
DNS.78    = *.hockeyapp.net
DNS.79    = *.appboy.com
DNS.80    = *.inmobi.com
DNS.81    = *.uca.cloud.unity3d.com
DNS.82    = *.pubmatic.com
DNS.83    = *.adtech.de
DNS.84    = *.lp4.io
DNS.85    = *.glimr.io
DNS.86    = *.pulse.schibsted.com
DNS.87    = *.videoplaza.tv
DNS.88    = *.expressen.se
DNS.89    = *.bonnier.news
DNS.90    = *.krxd.net
DNS.91    = cdn.optimizely.com
DNS.92    = app-measurement.com
DNS.93    = *.googleapis.com
DNS.94    = snapwidget.com
DNS.95    = *.adform.net
DNS.96    = *.compricer.se
DNS.97    = *.nice264.com
DNS.98    = *.worldoftulo.com
DNS.99    = *.services.mozilla.com
DNS.100   = *.ls.apple.com
DNS.101   = *.telemetry.mozilla.org
DNS.102   = *.svp.schibsted.io
DNS.103   = *.google.se
DNS.104   = *.bing.com
DNS.105   = *.livechatinc.com
DNS.106   = publicsuffix.org
DNS.107   = *.onelink.me
DNS.108   = *.api.vungle.com
DNS.109   = *.brandmetrics.com
DNS.110   = *.bonad.io
DNS.111   = *.screen9.com
DNS.112   = *.ooul.tv
DNS.113   = *.my.salesforce.com
DNS.114   = browser-update.org
DNS.115   = *.premii.com
DNS.116   = *.cloud.unity3d.com
DNS.117   = *.api.swrve.com
DNS.118   = *.content.swrve.com
DNS.119   = *.supersonicads.com
DNS.120   = *.moatads.com
DNS.121   = *.tenjin.io
DNS.122   = *.servogram.io
DNS.123   = *.unityads.unity3d.com
DNS.124   = *.amplitude.com
DNS.125   = *.heyzap.com
DNS.126   = *.applvn.com
DNS.127   = *.segment.com
DNS.128   = *.youtube.com
DNS.129   = *.sydsvenskan.se
DNS.130   = *.i.bt.no
DNS.131   = *.ifragasatt.se
DNS.132   = *.privacy.schibsted.com
DNS.133   = *.smartclip.net
DNS.134   = *.truste.com
DNS.135   = *.ubuntu.com
DNS.136   = *.oath.com
DNS.137   = *.getblueshift.com
DNS.138   = *.fbsbx.com
DNS.139   = *.taboola.com
DNS.140   = *.googletagservices.com
DNS.141   = *.crwdcntrl.net
DNS.142   = *.yahoo.com
DNS.143   = *.indexww.com
DNS.144   = *.addthis.com
DNS.145   = *.leadback.advertising.com
DNS.146   = *.ntv.io
DNS.147   = *.config.parsely.com
DNS.148   = *.bounceexchange.com
DNS.149   = *.marketo.com
DNS.150   = *.postrelease.com
DNS.151   = *.optimizely.com
DNS.152   = *.adsafeprotected.com
DNS.153   = *.gigya.com
DNS.154   = *.sharethrough.com
DNS.155   = *.quantserve.com
DNS.156   = *.ads-twitter.com
DNS.157   = *.usabilla.com
DNS.158   = *.summerhamster.com
DNS.159   = *.ugdturner.com
DNS.160   = *.2mdn.net
DNS.161   = edigitalsurvey.com
DNS.162   = *.effectivemeasure.net
DNS.163   = *.bbc.co.uk
DNS.164   = *.media.net
DNS.165   = *.zqtk.net
DNS.166   = *.sc.omtrdc.net
DNS.167   = *.criteo.com
DNS.168   = *.mydatabankapp.com
DNS.169   = *.eniro.se
DNS.170   = *.eniro.com
DNS.171   = *.apsislead.com
DNS.172   = *.consensu.org
DNS.173   = *.digitrust.mgr.consensu.org
DNS.174   = *.analytics.edgekey.net
DNS.175   = *.ninjakiwi.com
DNS.176   = *.ulink.adjust.com
DNS.177   = onesignal.com
DNS.178   = *.osmc.tv
DNS.179   = *.datasavannah.com
DNS.180   = datasavannah.com
DNS.181   = *.mailchimp.com
DNS.182   = *.nuggad.net
DNS.183   = *.zummy.io
DNS.184   = chimpstatic.com
DNS.185   = *.schibsted.media
DNS.186   = *.sprinkletxt.com
DNS.187   = *.pixel.parsely.com
DNS.188   = *.lightstep.com
DNS.189   = *.sfnix.net
DNS.190   = *.sharethis.com
DNS.191   = google-analytics.com
DNS.192   = *.appspot.com
DNS.193   = *.skyjos.com
DNS.194   = *.api.pushwoosh.com
DNS.195   = *.servicebus.windows.net
DNS.196   = *.innocraft.cloud
DNS.197   = *.alwaysdata.net
DNS.198   = *.metaservices.microsoft.com
DNS.199   = *.live.com
DNS.200   = ghbtns.com
DNS.201   = *.adtilt.com
DNS.202   = *.l.google.com
DNS.203   = *.microsoft.com
DNS.204   = *.telemetry.microsoft.com
DNS.205   = *.msedge.net
DNS.206   = *.ak.fbcdn.net
DNS.207   = *.firefox.com
DNS.208   = *.disqus.com
DNS.209   = *.wikimedia.org
DNS.210   = *.gvt1.com
DNS.211   = gvt1.com
DNS.212   = *.googlevideo.com
DNS.213   = *.zeasn.tv
DNS.214   = *.wappier.com
DNS.215   = *.eu-api.swrve.com
DNS.216   = *.eu-content.swrve.com
DNS.217   = *.rjfun.com
DNS.218   = *.smaato.net
DNS.219   = *.richmetrics.com
DNS.220   = *.c.richmetrics.com

##==================================
## CLR_EXT
##==================================

[ crl_ext ]
# Extension for CRLs (`man x509v3_config`).
authorityKeyIdentifier=keyid:always

##==================================
## OCSP
##==================================

[ ocsp ]
# Extension for OCSP signing certificates (`man ocsp`).
basicConstraints = CA:FALSE
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
keyUsage = critical, digitalSignature
extendedKeyUsage = critical, OCSPSigning

##
## EOF
##
